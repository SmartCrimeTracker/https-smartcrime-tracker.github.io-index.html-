<!doctype html>
<html lang="bn">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Smart Crime Tracker â€” Presentation Demo (Single File)</title>
<meta name="description" content="Presentation-grade single-file demo â€” UI-only, mock data. No live telecom hooks."/>
<style>
:root{
  --bg1:#041217; --bg2:#02343a;
  --card: rgba(255,255,255,0.02);
  --glass: rgba(255,255,255,0.03);
  --accent1:#00e486;
  --accent2:#16c7ff;
  --muted:#9fdad0;
  --text:#e9fff6;
  --shadow:0 14px 40px rgba(0,0,0,0.55);
  --radius:12px;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Inter, "Segoe UI", Roboto, Arial; background: linear-gradient(180deg,var(--bg1),var(--bg2)); color:var(--text); -webkit-font-smoothing:antialiased}
.container{max-width:1200px;margin:20px auto;padding:16px}
.header{display:flex;align-items:center;gap:12px;margin-bottom:12px}
.logo{width:72px;height:72px;border-radius:14px;background:linear-gradient(135deg,var(--accent1),var(--accent2));display:grid;place-items:center;font-weight:800;color:#022;box-shadow:0 8px 30px rgba(0,230,134,0.08)}
.title h1{margin:0;font-size:20px}
.title p{margin:4px 0 0;color:var(--muted);font-size:13px}

/* top nav */
.topbar{display:flex;align-items:center;gap:8px;padding:10px 0}
.nav{display:flex;gap:8px}
.nav button{background:transparent;border:1px solid var(--glass);color:var(--muted);padding:8px 12px;border-radius:999px;cursor:pointer;font-weight:600}
.nav button.active{border-color:rgba(0,230,134,0.35);color:var(--text);background:linear-gradient(90deg, rgba(0,230,134,0.06), rgba(0,230,134,0.02))}
.userInfo{margin-left:auto;color:var(--muted);font-size:13px}

/* layout */
.layout{display:grid;grid-template-columns:1fr 380px;gap:18px;min-height:68vh}
@media (max-width:980px){.layout{grid-template-columns:1fr}}
.card{background:var(--card);padding:14px;border-radius:var(--radius);border:1px solid rgba(255,255,255,0.03);box-shadow:var(--shadow)}
.kpiRow{display:flex;gap:12px;margin-bottom:12px;flex-wrap:wrap}
.kpi{flex:1;min-width:140px;padding:12px;border-radius:10px;background:linear-gradient(180deg,rgba(255,255,255,0.01),rgba(255,255,255,0.005))}
.kpi .num{font-size:22px;font-weight:800;color:var(--accent1)}
.grid2{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:12px}
@media (max-width:800px){.grid2{grid-template-columns:1fr}}
.small{font-size:13px;color:var(--muted)}
.note{font-size:13px;color:var(--muted);margin-top:8px}

/* inputs/buttons */
input[type=text], textarea, select{background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.03);color:inherit;padding:10px;border-radius:8px;width:100%}
button.btn{background:linear-gradient(180deg,var(--accent1),#00b36a);border:none;padding:9px 12px;border-radius:10px;color:#012;cursor:pointer;font-weight:700}
button.ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted);padding:8px 10px;border-radius:8px}
.table{width:100%;border-collapse:collapse}
th,td{padding:8px;text-align:left;border-bottom:1px solid rgba(255,255,255,0.02);font-size:13px}
tr:hover td{background:rgba(0,0,0,0.06)}
.mapBox{height:300px;border-radius:10px;overflow:hidden;border:1px solid rgba(255,255,255,0.03)}

/* presentation mode */
.presentation {
  position:fixed;inset:0;background:#011117;z-index:1200;display:flex;align-items:center;justify-content:center;padding:40px;
}
.presentation .slide { width:100%; max-width:1100px; background: linear-gradient(180deg,#062127,#08343a); border-radius:14px; padding:28px; box-shadow: 0 30px 80px rgba(0,0,0,0.7); }

/* login modal */
#loginModal{position:fixed;inset:0;display:grid;place-items:center;background:linear-gradient(180deg, rgba(0,0,0,0.6), rgba(0,0,0,0.75));z-index:100}
.loginCard{width:460px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);box-shadow:0 18px 60px rgba(0,0,0,0.75)}
.loginCard h3{margin:0 0 8px;color:var(--accent1)}
.inputRow{margin-top:8px;display:flex;gap:8px;align-items:center}

/* footer */
.footer{padding:12px;text-align:center;color:var(--muted);font-size:13px;margin-top:12px}

/* toast */
#toast{position:fixed;right:18px;bottom:18px;background:#022b23;border:1px solid rgba(0,230,134,0.08);padding:10px 14px;border-radius:10px;color:#dff;opacity:0;transform:translateY(8px);transition:all .25s}
</style>
</head>
<body>
<!-- LOGIN MODAL -->
<div id="loginModal" role="dialog" aria-labelledby="loginTitle">
  <div class="loginCard">
    <div style="display:flex;gap:12px;align-items:center">
      <div class="logo" id="loginLogo"></div>
      <div>
        <h3 id="loginTitle">SMART CRIME TRACKER â€” PRESENTATION DEMO</h3>
        <div class="small">Demo credentials: <strong>admin / Allah@1</strong> â€¢ <strong>user / 1234</strong></div>
      </div>
    </div>
    <hr style="border:none;height:8px;background:linear-gradient(90deg,transparent,rgba(0,255,150,0.06),transparent);margin:12px 0 14px"/>
    <label class="small">User</label>
    <input id="Luser" type="text" placeholder="admin" />
    <label class="small">Password</label>
    <input id="Lpass" type="password" placeholder="Allah@1" />
    <div style="display:flex;gap:8px;margin-top:12px">
      <button class="btn" onclick="doLogin()">Enter</button>
      <button class="ghost" onclick="fillQuick()">Fill demo</button>
      <button class="ghost" onclick="presentationOpen()">Presentation</button>
    </div>
    <p id="Lmsg" class="small" style="margin-top:10px;color:#ffb3b3"></p>
  </div>
</div>

<div class="container" id="app" aria-hidden="true">
  <div class="header">
    <div class="logo" id="logoBox">SCT</div>
    <div class="title">
      <h1>SMART CRIME TRACKER</h1>
      <p class="small">Presentation â€¢ Demo UI â€” Safe mock data only</p>
    </div>
  </div>

  <div class="topbar">
    <nav class="nav" role="navigation" aria-label="Main">
      <button class="navbtn active" data-tab="dashboard" onclick="navTo(event)">Dashboard</button>
      <button class="navbtn" data-tab="search" onclick="navTo(event)">Number Search</button>
      <button class="navbtn" data-tab="cdr" onclick="navTo(event)">CDR</button>
      <button class="navbtn" data-tab="map" onclick="navTo(event)">Map</button>
      <button class="navbtn" data-tab="ai" onclick="navTo(event)">AI</button>
      <button class="navbtn" data-tab="admin" onclick="navTo(event)">Admin</button>
    </nav>
    <div class="userInfo" id="userInfo">Not signed in</div>
  </div>

  <div class="layout">
    <main>
      <!-- Dashboard -->
      <section id="tab-dashboard" class="card">
        <div class="kpiRow">
          <div class="kpi"><div class="small">Active Cases</div><div class="num" id="kActive">0</div></div>
          <div class="kpi"><div class="small">High Risk</div><div class="num" id="kHigh">0</div></div>
          <div class="kpi"><div class="small">Alerts Today</div><div class="num" id="kAlerts">0</div></div>
        </div>

        <div class="grid2">
          <div class="card">
            <h4 style="margin:0 0 8px;color:var(--accent1)">Quick Actions</h4>
            <div style="display:flex;gap:8px;flex-wrap:wrap">
              <button class="btn" onclick="openTab('search')">ðŸ”Ž Number Search</button>
              <button class="btn" onclick="openTab('map')">ðŸ›° Map</button>
              <button class="btn" onclick="openTab('cdr')">ðŸ“‹ Load CDR</button>
              <button class="btn" onclick="openTab('ai')">ðŸ¤– Run AI</button>
            </div>
          </div>

          <div class="card">
            <h4 style="margin:0 0 8px;color:var(--accent1)">Recent Alerts (Demo)</h4>
            <table class="table"><thead><tr><th>Time</th><th>Event</th><th>Risk</th></tr></thead><tbody id="alertsTbl"><tr><td>09:12</td><td>Unusual port activity</td><td style="color:#ffd700">Medium</td></tr></tbody></table>
          </div>
        </div>
      </section>

      <!-- Number Search -->
      <section id="tab-search" class="card" style="display:none">
        <h4 style="color:var(--accent1);margin-top:0">Number / SIM Search (Demo)</h4>
        <div style="display:flex;gap:8px;align-items:center;margin-bottom:12px">
          <input id="searchNum" placeholder="+8801XXXXXXXXX"/>
          <button class="btn" onclick="doNumberSearch()">Search</button>
          <button class="ghost" onclick="clearSearch()">Clear</button>
        </div>
        <div id="searchResult"></div>
        <div class="note">Demo-only. Real telecom integration requires official authorization and secure server-side proxy.</div>
      </section>

      <!-- CDR -->
      <section id="tab-cdr" class="card" style="display:none">
        <h4 style="color:var(--accent1);margin-top:0">Call Detail Records (Demo)</h4>
        <div style="display:flex;gap:8px;margin-bottom:8px">
          <button class="btn" onclick="loadCDR()">Load Sample CDR</button>
          <button class="ghost" onclick="exportCDR()">Export CSV</button>
        </div>
        <div style="overflow:auto"><table id="cdrTbl" class="table"><thead><tr><th>Time</th><th>Caller</th><th>Callee</th><th>Dur(s)</th><th>Cell</th></tr></thead><tbody></tbody></table></div>
      </section>

      <!-- AI -->
      <section id="tab-ai" class="card" style="display:none">
        <h4 style="color:var(--accent1);margin-top:0">AI Analyzer (Demo)</h4>
        <p class="small">Text analyzer highlights suspicious keywords and returns a risk score (demo).</p>
        <textarea id="aiInput" placeholder="Example: cash drop at port, meet handler at gate 3" style="min-height:100px"></textarea>
        <div style="display:flex;gap:8px;margin-top:8px">
          <button class="btn" onclick="runAIDemo()">Analyze</button>
          <button class="ghost" onclick="clearAIDemo()">Clear</button>
        </div>
        <div id="aiOut" style="margin-top:12px"></div>
      </section>

      <!-- Admin (user approve etc.) -->
      <section id="tab-admin" class="card" style="display:none">
        <h4 style="color:var(--accent1);margin-top:0">Admin</h4>
        <div style="margin-bottom:12px">
          <div class="small">Pending Approvals</div>
          <table class="table"><thead><tr><th>Request</th><th>User</th><th>Status</th><th>Action</th></tr></thead>
            <tbody>
              <tr><td>CDR Access: 01700000000</td><td>ops_17</td><td id="req0">Pending</td><td><button class="ghost" onclick="approve(0)">Approve</button> <button class="ghost" onclick="reject(0)">Reject</button></td></tr>
              <tr><td>Geo Sweep: Tati Bazar</td><td>op_unit</td><td id="req1">Pending</td><td><button class="ghost" onclick="approve(1)">Approve</button> <button class="ghost" onclick="reject(1)">Reject</button></td></tr>
            </tbody></table>
        </div>

        <div>
          <h4 class="small">Logo Manager (Local)</h4>
          <input id="logoFile" type="file" accept="image/*,image/svg+xml"/>
          <div style="display:flex;gap:8px;margin-top:8px">
            <button class="btn" id="saveLogoBtn">Save Logo</button>
            <button class="ghost" id="downloadLogoBtn">Download</button>
            <button class="ghost" id="resetLogoBtn">Reset</button>
          </div>
          <div id="logoPreview" style="margin-top:10px;min-height:56px;display:grid;place-items:center;background:rgba(255,255,255,0.02);border-radius:8px"></div>
          <div class="small note">Logo saved in browser (localStorage). For global use, upload to server storage.</div>
        </div>
      </section>
    </main>

    <aside>
      <div class="card" style="margin-bottom:12px">
        <h4 style="margin:0 0 8px;color:var(--accent1)">Map (Embed Demo)</h4>
        <div class="mapBox"><iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d14604.69688454172!2d90.40744!3d23.7104!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1" style="width:100%;height:100%;border:0" loading="lazy"></iframe></div>
      </div>

      <div class="card" style="margin-bottom:12px">
        <h4 style="margin:0 0 8px;color:var(--accent1)">Suspicious Handlers</h4>
        <table class="table"><thead><tr><th>Handler</th><th>Score</th></tr></thead><tbody id="handlerTbl"><tr><td>HND-0173****210</td><td>78</td></tr><tr><td>HND-0182****905</td><td>64</td></tr></tbody></table>
        <div style="margin-top:8px"><button class="btn" onclick="analyzeHandlers()">Re-analyze</button></div>
      </div>

      <div class="card">
        <h4 style="margin:0 0 8px;color:var(--accent1)">Quick Info</h4>
        <div class="small">Presentation demo â€” UI-only. No live telecom access. For production, use secure server-side proxy and official authorization.</div>
        <div style="margin-top:10px"><button class="ghost" onclick="presentationOpen()">Open Presentation Mode</button></div>
      </div>
    </aside>
  </div>

  <div class="footer">Presentation Demo â€¢ Use only with lawful authorization â€¢ Â© Smart Crime Tracker</div>
</div>

<div id="toast"></div>

<!-- Presentation overlay (hidden) -->
<div id="presentation" class="presentation" style="display:none">
  <div class="slide">
    <h2 style="margin-top:0">SMART CRIME TRACKER â€” DEMO</h2>
    <p class="small">Presentation Mode â€” Click anywhere to exit</p>
    <div style="display:flex;gap:12px;margin-top:18px">
      <div style="flex:1" class="card">
        <h3>Live Mock â€” Number Search</h3>
        <div id="presSearch">Search example: <strong>+8801557******</strong></div>
      </div>
      <div style="width:320px" class="card">
        <h3>Handlers Snapshot</h3>
        <ul id="presHandlers">
          <li>HND-0173****210 â€” 78</li>
          <li>HND-0182****905 â€” 64</li>
        </ul>
      </div>
    </div>
  </div>
</div>

<script>
/* Utilities */
const $ = s => document.querySelector(s);
const $$ = s => document.querySelectorAll(s);
const toast = (t) => { const el = $('#toast'); el.textContent = t; el.style.opacity = 1; setTimeout(()=>el.style.opacity = 0, 2000); };

/* Login */
function doLogin(){
  const u = $('#Luser').value.trim(), p = $('#Lpass').value;
  if(!u || !p){ $('#Lmsg').textContent = 'Enter credentials'; return; }
  if((u==='admin' && p==='Allah@1') || (u==='user' && p==='1234')){
    $('#loginModal').style.display = 'none';
    $('#app').removeAttribute('aria-hidden');
    $('#userInfo').textContent = `Signed in: ${u}`;
    window.currentUser = u;
    toast('Logged in as ' + u);
    bootstrap();
    loadSavedLogo();
  } else { $('#Lmsg').textContent = 'Invalid demo credentials'; }
}
function fillQuick(){ $('#Luser').value='admin'; $('#Lpass').value='Allah@1'; $('#Lmsg').textContent=''; }

/* Navigation */
function navTo(e){ $$('.nav button').forEach(b=>b.classList.remove('active')); e.currentTarget.classList.add('active'); const tab = e.currentTarget.dataset.tab; $$('#app main section').forEach(s=>s.style.display='none'); const el = document.querySelector('#tab-'+tab); if(el) el.style.display='block'; }
function openTab(name){ const b = Array.from($$('.nav button')).find(b=>b.dataset.tab===name); if(b) b.click(); }

/* Bootstrap KPI animation */
function bootstrap(){ animate('#kActive',12,25); animate('#kHigh',3,40); animate('#kAlerts',7,30); analyzeHandlers(); }
function animate(sel,target,ms){ let n=0; const el = document.querySelector(sel); const iv = setInterval(()=>{ n++; el.textContent = n; if(n>=target) clearInterval(iv); }, ms); }

/* Number Search (Demo) */
function doNumberSearch(){
  const q = $('#searchNum').value.trim(); const out = $('#searchResult'); out.innerHTML='';
  if(!q){ out.textContent = 'Provide number'; return; }
  let resp;
  if(q.match(/^(\+?8801(70|71|72|73))/)) resp = `<b>${q}</b> â€” Owner: Unknown (Flagged) â€¢ LastSeen: Motijheel â€¢ <span style="color:#ffd700">Risk: High</span>`;
  else if(q.match(/^(\+?8801(8|9))/)) resp = `<b>${q}</b> â€” Owner: Local Trader â€¢ Location: Bashundhara â€¢ <span style="color:#9fdad0">Risk: Low</span>`;
  else resp = `<b>${q}</b> â€” No public records (demo)`;
  out.innerHTML = `<div style="padding:12px;background:rgba(0,0,0,0.12);border-radius:8px">${resp}</div>`;
  toast('Number search (demo) complete');
}
function clearSearch(){ $('#searchNum').value=''; $('#searchResult').innerHTML=''; }

/* CDR (Demo) */
const SAMPLE = [
  {t:'2025-09-01 09:12', caller:'01700000001', callee:'01800000002', dur:120, cell:'Dhaka'},
  {t:'2025-09-01 11:05', caller:'01800000002', callee:'01700000003', dur:45, cell:'Chattogram'},
  {t:'2025-09-02 23:50', caller:'01700000001', callee:'01900000004', dur:12, cell:'Rangpur'},
  {t:'2025-09-03 10:10', caller:'01700000005', callee:'01700000001', dur:35, cell:'Sylhet'}
];
function loadCDR(){ renderCDR(SAMPLE); toast('Sample CDR loaded'); }
function renderCDR(rows){ const t = $('#cdrTbl tbody'); t.innerHTML=''; (rows||[]).forEach(r=>{ const tr = document.createElement('tr'); tr.innerHTML = `<td>${r.t}</td><td>${r.caller}</td><td>${r.callee}</td><td>${r.dur}</td><td>${r.cell}</td>`; t.appendChild(tr); }); }
function exportCDR(){ const rows = SAMPLE; if(!rows.length){ toast('No CDR'); return; } const csv = ['Time,Caller,Callee,Duration,Cell', ...rows.map(r=>`${r.t},${r.caller},${r.callee},${r.dur},${r.cell}`)].join('\n'); const b = new Blob([csv],{type:'text/csv'}); const a = document.createElement('a'); a.href = URL.createObjectURL(b); a.download = 'cdr_demo.csv'; a.click(); toast('CDR exported'); }

/* Handlers */
function analyzeHandlers(){ const tbl = $('#handlerTbl'); tbl.innerHTML=''; const arr = ['HND-0173****210','HND-0182****905','HND-0167****441']; arr.forEach(n=>{ const sc = 40 + Math.floor(Math.random()*50); const tr = document.createElement('tr'); tr.innerHTML = `<td>${n}</td><td>${sc}</td>`; tbl.appendChild(tr); }); const pres = $('#presHandlers'); pres.innerHTML = arr.map(n=>`<li>${n} â€” ${40+Math.floor(Math.random()*50)}</li>`).join(''); toast('Handlers analyzed (demo)'); }

/* AI demo */
const BAD = ['cash','drop','handler','gold','port','gate','transfer','hawala','parcel','meet','sell','buy'];
function runAIDemo(){ const txt = $('#aiInput').value.trim(); if(!txt){ toast('Write text to analyze'); return; } const tokens = txt.split(/\b/); const processed = tokens.map(t=> BAD.includes(t.toLowerCase())? `<mark style="background:rgba(255,215,0,0.22);padding:2px;border-radius:3px">${t}</mark>`:t).join(''); const score = Math.min(98, (txt.match(/\d+/g)||[]).join('').length + Math.min(70,Math.floor(txt.length/2))); $('#aiOut').innerHTML = `<div style="background:rgba(0,0,0,0.12);padding:12px;border-radius:8px"><b>Risk Score:</b> ${score}% &nbsp; <span style="color:${score>70?'#ff6b6b':'#ffd166'}">${score>70?'High':'Moderate'}</span><div style="margin-top:8px">${processed}</div></div>`; toast('AI demo complete'); }
function clearAIDemo(){ $('#aiInput').value=''; $('#aiOut').innerHTML=''; }

/* Admin approve/reject */
function approve(i){ $('#req'+i).textContent='Approved'; toast('Approved (demo)'); }
function reject(i){ $('#req'+i).textContent='Rejected'; toast('Rejected (demo)'); }

/* Logo manager - localStorage */
const LOGO_KEY = 'sct_presentation_logo_v1';
function isAdmin(){ return window.currentUser === 'admin'; }
function loadSavedLogo(){
  const raw = localStorage.getItem(LOGO_KEY);
  const logoBox = $('#logoBox'), loginLogo = $('#loginLogo');
  if(!logoBox) return;
  if(!raw){ logoBox.textContent = 'SCT'; if(loginLogo) loginLogo.textContent = 'SCT'; $('#logoPreview').innerHTML = '<div class="small">Default</div>'; return; }
  if(raw.startsWith('<svg') || raw.includes('<svg')){ logoBox.innerHTML = raw; if(loginLogo) loginLogo.innerHTML = raw; $('#logoPreview').innerHTML = raw; }
  else if(raw.startsWith('data:')){ logoBox.innerHTML = `<img src="${raw}" style="max-width:100%;max-height:100%;border-radius:8px">`; if(loginLogo) loginLogo.innerHTML = `<img src="${raw}" style="max-width:100%;max-height:46px;border-radius:8px">`; $('#logoPreview').innerHTML = `<img src="${raw}" style="max-width:100%;max-height:56px;border-radius:6px">`; }
  else { logoBox.innerHTML = raw; $('#logoPreview').innerHTML = raw; }
}
$('#logoFile')?.addEventListener('change', (ev)=>{ const f = ev.target.files && ev.target.files[0]; const preview = $('#logoPreview'); if(!f || !preview) return; const reader = new FileReader(); reader.onload = function(e){ const result = e.target.result; if(f.type === 'image/svg+xml' || (typeof result === 'string' && result.trim().startsWith('<svg'))){ preview.innerHTML = result; preview.dataset.pending = result; toast('SVG ready to save (click Save).'); } else { preview.innerHTML = `<img src="${result}" style="max-width:100%;max-height:100%;border-radius:6px">`; preview.dataset.pending = result; toast('Image ready to save (click Save).'); } }; if(f.type === 'image/svg+xml') reader.readAsText(f); else reader.readAsDataURL(f); });
$('#saveLogoBtn')?.addEventListener('click', ()=>{ if(!isAdmin()){ toast('Only admin can save logo'); return; } const preview = $('#logoPreview'); if(!preview || !preview.dataset.pending){ toast('No uploaded logo to save'); return; } try{ localStorage.setItem(LOGO_KEY, preview.dataset.pending); loadSavedLogo(); delete preview.dataset.pending; $('#logoFile').value = ''; toast('Logo saved locally'); } catch(err){ console.error(err); toast('Save failed'); } });
$('#downloadLogoBtn')?.addEventListener('click', ()=>{ const raw = localStorage.getItem(LOGO_KEY); if(!raw){ toast('No saved logo'); return; } if(raw.startsWith('<svg') || raw.includes('<svg')){ const blob = new Blob([raw], {type:'image/svg+xml'}); const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = 'sct-logo.svg'; a.click(); URL.revokeObjectURL(a.href); } else if(raw.startsWith('data:')){ fetch(raw).then(r=>r.blob()).then(blob=>{ const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = 'sct-logo.png'; a.click(); URL.revokeObjectURL(a.href); }); } else { const blob = new Blob([raw], {type:'image/svg+xml'}); const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = 'sct-logo.svg'; a.click(); URL.revokeObjectURL(a.href); } toast('Download started'); });
$('#resetLogoBtn')?.addEventListener('click', ()=>{ if(!isAdmin()){ toast('Only admin can reset logo'); return; } localStorage.removeItem(LOGO_KEY); loadSavedLogo(); toast('Logo reset'); });

/* Presentation mode */
function presentationOpen(){
  $('#presentation').style.display = 'flex';
  document.getElementById('presentation').addEventListener('click', ()=>{ presentationClose(); }, {once:true});
}
function presentationClose(){ $('#presentation').style.display = 'none'; }

/* misc init */
document.addEventListener('DOMContentLoaded', ()=>{ loadSavedLogo(); analyzeHandlers(); });
document.addEventListener('keydown', e=>{ if(e.key==='Enter' && $('#loginModal') && $('#loginModal').style.display !== 'none'){ doLogin(); }});
</script>
</body>
</html>
